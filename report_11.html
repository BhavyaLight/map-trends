<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>cache up to zoom 11</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            border: 0;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet-src.js"></script>
    <script>
        var tileLayer = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            maxZoom: 18
        });

        var map = L.map('map', {
            center: [0, 0],
            zoom: 2,
            layers: [tileLayer]
        });

        L.control.layers({}, {'tiles': tileLayer}).addTo(map);

        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'cache_tile_11.geojson', true);
        xhr.responseType = 'json';
        xhr.onload = function (e) {
            if (this.status == 200) {
                L.geoJson(this.response, {
                    onEachFeature: function (feature, layer) {
                        layer.bindPopup(feature.properties.t + ' - ' + feature.properties.c);
                        layer.setStyle({
                            color: feature.properties.k,
                            weight: 1
                        });
                    }
                }).addTo(map);
            }
        };
        xhr.send();
    </script>
</body>
</html>